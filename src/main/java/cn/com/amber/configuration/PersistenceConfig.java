package cn.com.amber.configuration;import com.alibaba.druid.pool.DruidDataSource;import org.springframework.boot.autoconfigure.jdbc.DataSourceProperties;import org.springframework.boot.context.properties.EnableConfigurationProperties;import org.springframework.context.annotation.Bean;import javax.annotation.Resource;import javax.sql.DataSource;/** * 完成持久化需要的bean定义配置，包括数据源，mybatis SqlSessionFactory，事务管理等 * * @author yangying * @version 1.0 * @since 2022/9/4 **/@EnableConfigurationProperties(DataSourceProperties.class)public class PersistenceConfig {    @Resource    DataSourceProperties properties;    public DataSource dataSource() {        DruidDataSource dataSource =  new DruidDataSource();        dataSource.setUrl(properties.getUrl());        dataSource.setUsername(properties.getUsername());        //密码处解密        dataSource.setPassword(properties.getPassword());        dataSource.setDriverClassName(properties.getDriverClassName());        return dataSource;    }}